{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.0566eb82c01c490a4217.hot-update.js","sources":["webpack:///./components/PostForm.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\n\r\nconst PostForm = () => {\r\n    const dispatch = useDispatch();\r\n    const [text, setText] = useState('');\r\n    const { imagePaths, isAddingPost, postAdded } = useSelector(\r\n        state => state.post,\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (postAdded) {\r\n            setText('');\r\n        }\r\n    }, [postAdded]);\r\n\r\n    const onSubmitForm = useCallback(\r\n        e => {\r\n            e.preventDefault();\r\n            if (!text || !text.trim()) {\r\n                return alert('게시글을 작성하세요.');\r\n            }\r\n            dispatch({\r\n                type: ADD_POST_REQUEST,\r\n                data: {\r\n                    content: text.trim(),\r\n                },\r\n            });\r\n        },\r\n        [text],\r\n    );\r\n\r\n    const onChangeText = useCallback(e => {\r\n        setText(e.target.value);\r\n    }, []);\r\n\r\n    return (\r\n        <Form\r\n            style={{ margin: '10px 0 20px' }}\r\n            encType=\"multipart/form-data\"\r\n            onSubmit={onSubmitForm}\r\n        >\r\n            <Input.TextArea\r\n                maxLength={140}\r\n                placeholder=\"어떤 신기한 일이 있었나요?\"\r\n                value={text}\r\n                onChange={onChangeText}\r\n            />\r\n            <div>\r\n                <input type=\"file\" multiple hidden />\r\n                <Button>이미지 업로드</Button>\r\n                <Button\r\n                    type=\"primary\"\r\n                    style={{ float: 'right' }}\r\n                    htmlType=\"submit\"\r\n                    loading={isAddingPost}\r\n                >\r\n                    짹짹\r\n                </Button>\r\n            </div>\r\n            <div>\r\n                {imagePaths.map(v => (\r\n                    <div key={v} style={{ display: 'inline-block' }}>\r\n                        <img\r\n                            src={`http://localhost:3065/${v}`}\r\n                            style={{ width: '200px' }}\r\n                            alt={v}\r\n                        />\r\n                        <div>\r\n                            <Button>제거</Button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </Form>\r\n    );\r\n};\r\n\r\nexport default PostForm;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAJA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAIA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AAeA;AACA;AACA;;;;A","sourceRoot":""}